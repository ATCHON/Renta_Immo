# Story 2.6.3: Graphiques d'Évolution

Status: done

## Story

**As an** investisseur immobilier,
**I want** visualiser graphiquement les projections de mon investissement sur 20-25 ans,
**so that** les tendances (cashflow, patrimoine) soient plus digestes et parlantes qu'un tableau de chiffres.

## Acceptance Criteria

1. [x] **Graphique Cashflow** : Histogramme montrant le cashflow net annuel sur toute la durée.
2. [x] **Graphique Patrimoine Net** : Courbe montrant l'évolution de la valeur du bien vs le capital restant dû (Net Wealth).
3. [x] **Graphique Répartition** : Visualisation de la part capital vs intérêts dans les mensualités cumulées (Fusionné dans Patrimoine).
4. [x] **Interactivité** : Tooltips affichant les valeurs précises au survol des points/barres.
5. [x] **Mise à jour dynamique** : Les graphiques réagissent instantanément au changement d'horizon de projection (5, 10, 15, 20, 25 ans).

## Tasks / Subtasks

- [x] **Task 1: Installation et Configuration** (AC: 1, 2)
  - [x] Vérifier/Installer `recharts` si absent.
  - [x] Créer des composants wrapper pour les graphiques standardisés (`CashflowChart`, `PatrimoineChart`).
- [x] **Task 2: Transformation des données** (AC: 5)
  - [x] Créer une fonction utilitaire pour transformer `ProjectionAnnuelle[]` au format Recharts `{ name, value1, value2 }`.
- [x] **Task 3: Intégration dans le Dashboard** (AC: 1, 2, 3)
  - [x] Ajouter une section "Analyses Graphiques" dans la page de résultats.
  - [x] Implémenter `CashflowChart.tsx` and `PatrimoineChart.tsx`.

## Dev Notes

### Architecture Patterns
- **Library** : Recharts est recommandé pour sa simplicité et sa compatibilité avec Tailwind.
- **Responsivness** : Utiliser `ResponsiveContainer` pour s'assurer que les graphiques s'adaptent aux écrans mobiles.
- **Design** : Utiliser les couleurs de la palette "Nordic Minimal" (bleus sourds, gris doux, accents verts pour le positif).

### Source Tree Components
- Logic : `src/lib/utils.ts` (transformation).
- UI : `src/components/results/charts/` (nouveau dossier).

### Testing Standards
- Data : Vérifier que les totaux graphiques correspondent aux totaux du tableau de projection (S3.1).
- Performance : S'assurer que le rendu des graphiques est fluide.

### References
- [PRD: Section 2.1 FR14](file:///d:/Devs/Renta_Immo/docs/prd.md#L68)
- [Calculations: S3.1 Simulation Pluriannuelle](file:///d:/Devs/Renta_Immo/docs/stories/2.3.1.simulation-pluriannuelle.md)

## Dev Agent Record

### Agent Model Used
Antigravity (Google Deepmind)

### Completion Notes List
- Selection of Recharts as charts library.
- Mapping of projection indicators to interactive visualizations.
